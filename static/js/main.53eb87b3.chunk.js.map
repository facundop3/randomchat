{"version":3,"sources":["API.js","Components/SweetInput.js","Components/MessageForm.js","Components/MessagesBox.js","Components/Login.js","Components/DragAndDrop.js","Components/SweetChatBubble.js","Components/PrivateChat.js","Components/SearchUser.js","Components/SimpleAppBar.js","Components/SimpleUser.js","Components/SimpleUsersList.js","Components/SimpleCard.js","App.js","serviceWorker.js","index.js"],"names":["socket","openSocket","API","suscribeToMessages","callback","on","newMessage","sendMessage","emit","registerUser","username","suscribeToUsers","usersList","console","log","sendPrivateMessage","messageObj","suscribeToPrivateMessages","newPrivateMessages","InputText","styled","input","_templateObject","iconStyle","position","padding","right","Container","div","_templateObject2","_ref","bgColor","SweetInput","props","_props$iconColor","iconColor","_props$placeholder","placeholder","_props$faIcon","faIcon","handleSubmit","cleanAfter","hotAction","handleChange","hotValue","_useState","useState","_useState2","Object","slicedToArray","inputValue","setInputValue","handleClick","ev","target","focus","react_default","a","createElement","onSubmit","preventDefault","style","index_es","color","icon","onClick","type","onChange","value","_ref2","MessageForm","Components_SweetInput","MessagesBox_templateObject","UsernameLink","MessagesBox_templateObject2","MessagesBox","messagesList","MessagesBox_Container","map","index","message","key","Date","now","Login_templateObject","LoginTitle","h1","Login_templateObject2","Wrapper","_templateObject3","Login","Login_Container","test","setHideLogin","Draggable","_this","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","state","relX","relY","x","y","gridX","gridY","onMouseDown","bind","assertThisInitialized","onMouseMove","onMouseUp","onTouchStart","onTouchMove","onTouchEnd","e","ref","ReactDOM","findDOMNode","handle","body","document","box","getBoundingClientRect","setState","pageX","left","scrollLeft","clientLeft","pageY","top","scrollTop","clientTop","Math","trunc","onMove","button","onStart","addEventListener","removeEventListener","onStop","touches","passive","_this2","touchAction","children","React","Component","SweetChatBubble_templateObject","isLeft","MessageBody","SweetChatBubble_templateObject2","concat","isSecond","SweetChatBubble","SweetChatBubble_Container","ChatHeadder","PrivateChat_templateObject","PrivateChat_templateObject2","isMinimized","ChatMessages","PrivateChat_templateObject3","_templateObject4","PrivateChat","id","handleClose","privateMessages","setIsMinimized","DragAndDrop","PrivateChat_Container","marginRight","PrivateChat_MessagesBox","list","content","isOutbound","Components_SweetChatBubble","Boolean","Components_MessageForm","messageValue","SearchUser_templateObject","SearchUser","SearchUser_Container","TextField_default","label","width","margin","withStyles","root","flexGrow","headerStyle","backgroundImage","classes","className","AppBar_default","Toolbar_default","Typography_default","variant","SimpleUser","avatarImage","handleUserClick","ListItem_default","alignItems","ListItemAvatar_default","Avatar_default","alt","src","ListItemText_default","primary","secondary","Fragment","component","inline","theme","maxWidth","backgroundColor","palette","background","paper","display","users","filter","matches","toLowerCase","includes","List_default","length","Components_SimpleUser","href","rel","role","aria-label","SimpleCard","Card_default","height","borderRadius","CardContent_default","MainContainer","App_templateObject","AppContainer","App_templateObject2","LeftBox","App_templateObject3","RightBox","App_templateObject4","WebChat","setMessageList","_useState3","_useState4","setUsersList","_useState5","chatsIds","_useState6","privateChats","setPrivateChats","_useState7","_useState8","searchUserValue","setSearchUserValue","_useState9","_useState10","hiddeLogin","updatePrivateChat","newPrivateChat","hasOwnProperty","messages","toConsumableArray","objectSpread","updateMessagesList","messageToAdd","push","updateUsersList","newUsersList","useEffect","userId","user","isOpen","Components_SimpleAppBar","_ref3","Components_PrivateChat","Components_Login","Components_MessagesBox","Components_SimpleCard","Components_SearchUser","SimpleUsersList","window","location","hostname","match","library","add","faTimes","faPaperPlane","faWindowMinimize","faSearch","faUserAstronaut","faFrownOpen","faSquare","render","App","getElementById","navigator","serviceWorker","ready","then","registration","unregister"],"mappings":"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","file":"static/js/main.53eb87b3.chunk.js","sourcesContent":["import openSocket from 'socket.io-client'\nconst  socket = openSocket('http://localhost:3030')\n\nfunction suscribeToMessages(callback) {\n  socket.on('new-message', newMessage => callback(newMessage))\n}\n\nfunction sendMessage(newMessage){\n  socket.emit('new-message', newMessage)\n}\n\nfunction sendPrivateMessage(messageObj){\n  socket.emit('new-private-message', messageObj)\n}\n\nfunction suscribeToPrivateMessages(callback){\n  socket.on('new-private-message', newPrivateMessages => callback(newPrivateMessages))\n}\n\nfunction registerUser(username){\n  socket.emit('new-username', username)\n}\n\nfunction suscribeToUsers(callback){\n  socket.on('all-users', usersList =>{ \n    callback(usersList)\n    console.log(usersList)\n  })\n}\n\nexport default { suscribeToMessages,\n                 sendMessage, \n                 registerUser, \n                 suscribeToUsers,\n                 sendPrivateMessage,\n                 suscribeToPrivateMessages }","import React, {useState} from 'react'\nimport styled from 'styled-components'\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\n\nconst InputText = styled.input`\n  width: 100%;\n  height: 100%;\n  box-sizing: border-box;\n  background-color: white;\n  border: 1.5px solid grey;\n  border-radius:5px;\n  padding: 5.5px;\n  outline: none;\n`\n\nconst iconStyle = {\n  position:\"absolute\", \n  padding: \"5.5px\",\n  right: 0,\n}\n\n\nconst Container = styled.div`\n    border-radius:5px;\n    width: 100%;\n    background-color: ${({bgColor})=> bgColor};\n    padding:  .5em;\n    box-sizing: border-box;\n`\n\n\nconst SweetInput = (props) => {\n  const { iconColor=\"#2ca5e0\", \n          placeholder=\"\", \n          faIcon=\"paper-plane\", \n          handleSubmit, \n          cleanAfter, \n          bgColor, \n          hotAction,\n          handleChange,\n          hotValue} = props\n\n  const [inputValue, setInputValue] = useState('')\n  const handleInput = ({target:{value}}) => {\n    setInputValue(value)\n  }\n  const handleClick = ev => ev.target.focus()\n  const preventDefault = ev =>{\n    ev.preventDefault()\n    handleSubmit && handleSubmit(inputValue)\n    setInputValue(cleanAfter ? '' : inputValue)\n\n  }\n  return (\n    <Container bgColor={bgColor}>\n      <form onSubmit={preventDefault} style={{position:\"relative\"}}>\n      <FontAwesomeIcon\n        color={iconColor}\n        icon={faIcon} \n        style={iconStyle}\n        onClick={handleSubmit}\n        />\n        {\n           hotAction?\n            <InputText\n              type=\"text\"\n              onChange={handleChange}\n              value={hotValue}\n              placeholder={placeholder}\n              onClick={handleClick}\n            />\n            :\n            <InputText\n              type=\"text\"\n              onChange={handleInput}\n              value={inputValue}\n              placeholder={placeholder}\n              onClick={handleClick}\n            />\n        }\n      </form>\n    </Container>\n  )\n}\n\nexport default SweetInput","import React from 'react'\nimport SweetInput from './SweetInput'\n\nconst MessageForm = props => {\n  const {sendMessage} = props\n  return (\n    <SweetInput \n      handleSubmit={sendMessage}\n      cleanAfter\n      placeholder=\"Input your message\"\n    />\n  )\n}\n\nexport default MessageForm","import React from 'react'\nimport styled from 'styled-components'\n\nconst Container = styled.div`\n    height: 100%;\n    display: inline-block;\n    width: 100%;\n    padding: 0 .5em;\n    overflow: scroll;\n`\nconst UsernameLink = styled.a`\n    text-decoration: none;\n    color: #fff;\n`\nconst MessagesBox = props=>{\n  const { messagesList } = props\n  return <Container>\n    {\n      messagesList.map(({message, username}, index) => <h1 key={Date.now()+ index}><UsernameLink>{username}: </UsernameLink>{message}</h1>)\n    }\n  </Container>\n}\n\nexport default MessagesBox\n","import React from 'react'\nimport API from '../API'\nimport styled from 'styled-components'\n\nimport SweetInput from './SweetInput'\n\nconst Container = styled.div`\n  background-color: #fff;\n  border-radius: 5px;\n  padding: 1em;\n  position: absolute;\n  box-shadow: 4px 3px 4px rgba(0, 0, 0, 0.4);\n`\nconst LoginTitle = styled.h1`\n  text-align: center;\n`\nconst Wrapper = styled.div`\n  width: 100vw;\n  height: calc(100vh - 64px);\n  position: absolute;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  background: rgba(0,0,0,.3);\n  z-index: 1;\n\n`\nconst Login = props => {\n\n  const handleSubmit = inputValue => {\n    if(inputValue && /\\S/.test(inputValue)){\n      API.registerUser(inputValue) \n      props.setHideLogin(true)\n    }\n  }\n\n  return (\n    <Wrapper>\n\n    <Container>\n      <LoginTitle>Chat as a guest</LoginTitle>\n      <SweetInput \n        placeholder=\"Sally Ride\"\n        handleSubmit={handleSubmit}\n        faIcon=\"user-astronaut\"\n        iconColor=\"#95ca3e\"\n      />\n    </Container>\n    </Wrapper>\n  )\n\n}\n\nexport default Login","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport PropTypes from 'prop-types';\n\nclass Draggable extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            relX: 0,\n            relY: 0,\n            x: props.x,\n            y: props.y\n        };\n        this.gridX = props.gridX || 1;\n        this.gridY = props.gridY || 1;\n        this.onMouseDown = this.onMouseDown.bind(this);\n        this.onMouseMove = this.onMouseMove.bind(this);\n        this.onMouseUp = this.onMouseUp.bind(this);\n        this.onTouchStart = this.onTouchStart.bind(this);\n        this.onTouchMove = this.onTouchMove.bind(this);\n        this.onTouchEnd = this.onTouchEnd.bind(this);\n    }\n\n    static propTypes = {\n        onMove: PropTypes.func,\n        onStop: PropTypes.func,\n        x: PropTypes.number.isRequired,\n        y: PropTypes.number.isRequired,\n        gridX: PropTypes.number,\n        gridY: PropTypes.number\n    }; \n\n    onStart(e) {\n        const ref = ReactDOM.findDOMNode(this.handle);\n        const body = document.body;\n        const box = ref.getBoundingClientRect();\n        this.setState({\n            relX: e.pageX - (box.left + body.scrollLeft - body.clientLeft),\n            relY: e.pageY - (box.top + body.scrollTop - body.clientTop)\n        });\n    }\n\n    onMove(e) {\n        const x = Math.trunc((e.pageX - this.state.relX) / this.gridX) * this.gridX;\n        const y = Math.trunc((e.pageY - this.state.relY) / this.gridY) * this.gridY;\n        if (x !== this.state.x || y !== this.state.y) {\n            this.setState({\n                x,\n                y\n            });\n            this.props.onMove && this.props.onMove(this.state.x, this.state.y);\n        }        \n    }\n\n    onMouseDown(e) {\n        if (e.button !== 0) return;\n        this.onStart(e);\n        document.addEventListener('mousemove', this.onMouseMove);\n        document.addEventListener('mouseup', this.onMouseUp);\n        e.preventDefault();\n    }\n\n    onMouseUp(e) {\n        document.removeEventListener('mousemove', this.onMouseMove);\n        document.removeEventListener('mouseup', this.onMouseUp);\n        this.props.onStop && this.props.onStop(this.state.x, this.state.y);\n        e.preventDefault();\n    }\n\n    onMouseMove(e) {\n        this.onMove(e);\n        e.preventDefault();\n    }\n\n    onTouchStart(e) {\n        this.onStart(e.touches[0]);\n        document.addEventListener('touchmove', this.onTouchMove, {passive: false});\n        document.addEventListener('touchend', this.onTouchEnd, {passive: false});\n        e.preventDefault();\n    }\n\n    onTouchMove(e) {\n        this.onMove(e.touches[0]);\n        e.preventDefault();\n    }\n\n    onTouchEnd(e) {\n        document.removeEventListener('touchmove', this.onTouchMove);\n        document.removeEventListener('touchend', this.onTouchEnd);\n        this.props.onStop && this.props.onStop(this.state.x, this.state.y);\n        e.preventDefault();\n    }\n\n    render() {\n        return <div\n            onMouseDown={this.onMouseDown}\n            onTouchStart={this.onTouchStart}\n            style={{\n                position: 'absolute',\n                left: this.state.x,\n                top: this.state.y,\n                touchAction: 'none'\n            }}\n            ref={(div) => { this.handle = div; }}\n        >\n            {this.props.children}\n        </div>;\n    }\n}\n\nexport default Draggable;","import React from 'react'\nimport styled from 'styled-components'\n\nconst Container = styled.div`\n    display: flex;\n  ${\n    props => props.isLeft ? 'justify-content: flex-start;': 'justify-content: flex-end;'  \n  }\n`\nconst MessageBody = styled.div`\n    margin: .25em;\n    padding:.5em;\n    border-radius: 20px;\n    display: inline-block;\n    ${\n      props => props.isLeft ?\n        `border-bottom-left-radius: 0;\n        background-color: #e6ecf0;\n        color:#14171a;\n            ${\n              props.isSecond && \"border-top-left-radius: 0;\"\n            }\n        `\n        :\n        `border-bottom-right-radius: 0;\n        background-color: #1da1f2;\n        color: white;\n        ${\n          props.isSecond && \"border-top-right-radius: 0;\"\n        }\n        `\n    }\n`\nconst SweetChatBubble = props => {\n    const {isLeft, message, isSecond} = props\n    return (\n      <Container isLeft={isLeft}>\n        <MessageBody isLeft={isLeft} isSecond={isSecond}>\n          {message}\n        </MessageBody>\n      </Container>\n    )\n}\n\nexport default SweetChatBubble","import React, {useState} from 'react'\nimport styled from 'styled-components'\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\nimport API from '../API'\n\nimport MessageForm from './MessageForm'\nimport DragAndDrop from './DragAndDrop'\nimport SweetChatBubble from './SweetChatBubble'\n\nconst ChatHeadder= styled.div`\n  height: 2em;\n  width: 100%;\n  box-sizing: border-box;\n  background-image: linear-gradient(45deg, #662d8c, #ed1e79);\n  color: white;\n  font-weight: bold;\n  justify-content: space-between;\n  display:flex;\n  padding: .5em 1em;\n`\nconst Container = styled.div`\n    height: ${ props => props.isMinimized ? \"0vh\" :\"40vh\"};\n    width: 30vw ;\n    position: absolute;\n    display: block;\n    z-index: 1;\n    box-shadow: 0px 1px 1px 1px rgba(0,0,0,0.15);\n\n`\n\nconst ChatMessages = styled.div`\n  height: 85%;\n  width: 100%;\n  margin: 0%;\n  padding: .5em;\n  overflow:scroll;\n  box-sizing: border-box;\n`\nconst MessagesBox = styled.div`\n  height:91%;\n  background-color: white;\n`\n\nconst PrivateChat = props =>{\n  const {id, username, handleClose, privateMessages} = props\n  // States\n  const [isMinimized, setIsMinimized] = useState(false)\n  const sendMessage = messageValue =>{\n    if(messageValue && /\\S/.test(messageValue)){\n      const messageObj = {id , message: {content:messageValue, isOutbound:true}}\n      API.sendPrivateMessage(messageObj)\n    }\n  }\n\n  const handleMin = ev =>{\n    setIsMinimized(!isMinimized)\n  }\n  const handleCloseClick = ()=>{\n    handleClose(id)\n  }\n  return (\n    <DragAndDrop x={100} y={100} >\n    <Container isMinimized={isMinimized}>\n      <ChatHeadder> \n        <span>{username}</span>\n        <div>\n          <FontAwesomeIcon\n          icon={isMinimized ? \"square\" : \"window-minimize\"}\n          onClick={handleMin}\n          style={{marginRight: \".5em\"}}\n          />\n          <FontAwesomeIcon\n          icon=\"times\"\n          onClick={handleCloseClick}\n          />\n        </div>\n      </ChatHeadder>\n      {\n\n       !isMinimized && <MessagesBox>\n                          <ChatMessages>\n                            { \n                              privateMessages && privateMessages.map(({content, isOutbound}, index, list) => \n                                <SweetChatBubble \n                                  key={Date.now()+ index} \n                                  message={content} \n                                  isSecond={index && Boolean(isOutbound) === Boolean(list[index -1].isOutbound)} \n                                  isLeft={!isOutbound}/>\n                              )\n                            }\n                          </ChatMessages>\n\n                          <MessageForm\n                            cleanAfter\n                            sendMessage={sendMessage} \n                          />\n                        </MessagesBox>         \n      }\n    </Container>\n  </DragAndDrop>\n  \n  )\n}\n\nexport default PrivateChat","import React from \"react\";\nimport TextField from \"@material-ui/core/TextField\";\nimport styled from 'styled-components'\n\nconst Container = styled.div`\n    width: 100%;\n    padding: 1em;\n    box-sizing: border-box;\n`\n\nfunction SearchUser(props) {\n  const {handleChange, inputValue} = props\n  return (\n    <Container>\n      <TextField\n        id=\"standard-name\"\n        label=\"Search user\"\n        value={inputValue}\n        style={{ width: \"100%\" }}\n        onChange={handleChange}\n        margin=\"normal\"\n      />\n    </Container>\n  )\n}\n\nexport default SearchUser\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { withStyles } from '@material-ui/core/styles';\nimport AppBar from '@material-ui/core/AppBar';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport Typography from '@material-ui/core/Typography';\n\nconst styles = {\n  root: {\n    flexGrow: 1,\n  },\n  headerStyle:{\n    backgroundImage: \"linear-gradient(45deg, #662d8c, #ed1e79)\",\n  }\n};\n\n\nfunction SimpleAppBar(props) {\n  const { classes } = props;\n\n  return (\n    <div className={classes.root}>\n      <AppBar position=\"static\" className={classes.headerStyle}>\n        <Toolbar>\n          <Typography variant=\"h6\">\n           <span style={{color: \"#fff\"}}> # General </span>\n          </Typography>\n        </Toolbar>\n      </AppBar>\n    </div>\n  );\n}\n\nSimpleAppBar.propTypes = {\n  classes: PropTypes.object.isRequired,\n};\n\nexport default withStyles(styles)(SimpleAppBar);","import React from 'react';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport ListItemAvatar from '@material-ui/core/ListItemAvatar';\nimport Avatar from '@material-ui/core/Avatar';\nimport Typography from '@material-ui/core/Typography';\n\n\n\nconst SimpleUser = props => {\n  const {id, username, avatarImage, handleUserClick, classes } = props\n\n  const startPrivateChat = ()=>{\n    console.log(\"Clicked\")\n    console.log(id)\n    handleUserClick && handleUserClick(id)\n  }\n  return (\n    <ListItem alignItems=\"flex-start\" key={id} onClick={startPrivateChat}>\n        {\n          avatarImage &&\n              <ListItemAvatar>\n                <Avatar alt=\"add image\" src=\"/static/images/avatar/1.jpg\" />\n              </ListItemAvatar>\n        }\n        <ListItemText\n          primary={username}\n          secondary={\n            <React.Fragment>\n              <Typography component=\"span\" className={classes.inline} color=\"textPrimary\">\n                Here goes description\n              </Typography>\n              {\" — To do: Add description\"}\n            </React.Fragment>\n          }\n        />\n    </ListItem>\n  )\n}\nexport default SimpleUser","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { withStyles } from '@material-ui/core/styles';\nimport List from '@material-ui/core/List';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport Typography from '@material-ui/core/Typography';\n\n\nimport SimpleUser from './SimpleUser'\n\nconst styles = theme => ({\n  root: {\n    width: '100%',\n    maxWidth: 360,\n    backgroundColor: theme.palette.background.paper,\n  },\n  inline: {\n    display: 'inline',\n  },\n});\n\nfunction AlignItemsList(props) {\n  const { classes, users, handleUserClick, filter } = props\n  const matches = users.filter(({username}) => username && username.toLowerCase().includes(filter.toLowerCase()))\n  return (\n    <List className={classes.root}>\n      {\n        matches.length ?\n\n          matches.map(({username, id, avatarImage}) =>\n            <SimpleUser\n            handleUserClick={handleUserClick}\n            avatarImage={avatarImage}\n            username={username}\n            classes={classes}\n            id={id}\n            />)\n          :\n          <ListItem alignItems=\"flex-start\">\n            <ListItemText\n              primary=\"No users online\"\n              secondary={\n                <React.Fragment>\n                  <a href=\"https://www.youtube.com/watch?v=MX6MvV8cbh8\" target=\"_blank\"  rel=\"noopener noreferrer\">\n                    <Typography component=\"span\" className={classes.inline} color=\"textPrimary\">\n                      So lonely, so lonely, so lonely <span role=\"img\" aria-label=\"Music\">🎶</span>\n                    </Typography>\n                  </a>\n                </React.Fragment>\n              }\n            />\n          </ListItem>\n      }\n\n    </List>\n  );\n}\n\nAlignItemsList.propTypes = {\n  classes: PropTypes.object.isRequired,\n};\n\nexport default withStyles(styles)(AlignItemsList);","import React from \"react\";\nimport Card from \"@material-ui/core/Card\";\nimport CardContent from \"@material-ui/core/CardContent\";\n\nfunction SimpleCard(props) {\n  return (\n    <Card style={{height: \"100%\", borderRadius:0}}>\n      <CardContent>\n        {props.children}\n      </CardContent>\n    </Card>\n  );\n}\n\nexport default SimpleCard;\n","import React, {useState, useEffect} from 'react'\nimport styled from 'styled-components'\nimport API from './API'\nimport MessageForm from './Components/MessageForm'\nimport MessagesBox from './Components/MessagesBox'\nimport Login from './Components/Login'\nimport PrivateChat from './Components/PrivateChat'\nimport SearchUser from './Components/SearchUser'\n\n\nimport SimpleAppBar from './Components/SimpleAppBar'\nimport SimpleUsersList from './Components/SimpleUsersList'\nimport SimpleCard from './Components/SimpleCard'\n\nconst MainContainer = styled.div`\n  height: 100vh;\n  background-image: linear-gradient(45deg, #2e3192, #1bffff);\n`\nconst AppContainer = styled.div`\n/* Todo look for a better way of fixing the height */\n  height: calc(100% - 64px);\n  width: 100%;\n  display: flex;\n`\n\nconst LeftBox = styled.div`\n  width: 80%;\n  height: 94%;\n  box-sizing: border-box;\n`\nconst RightBox = styled.div`\n  width: 20%;\n`\n\n\n\nconst WebChat = props => {\n\n  const [messagesList, setMessageList] = useState([])\n  const [usersList, setUsersList] = useState([])\n  const [privateChats, setPrivateChats] = useState({chatsIds:[]})\n  const [searchUserValue, setSearchUserValue] = useState('')\n  const [hiddeLogin, setHideLogin] = useState(false)\n\n  const  updatePrivateChat = (newPrivateChat)=>{\n    const {message,id} = newPrivateChat\n    if(privateChats.chatsIds.includes(id)){\n      if(privateChats.hasOwnProperty(id)){\n        privateChats[id].messages = [...privateChats[id].messages, message]\n      } else {\n        privateChats[id] = {}\n        privateChats[id].messages = [message]\n      }\n    } else {\n      privateChats.chatsIds = [...privateChats.chatsIds, id]\n      privateChats[id] = {}\n      privateChats[id].messages = [message]\n    }\n    setPrivateChats({...privateChats})\n  }\n\n  const updateMessagesList = (messageToAdd) => {\n    messagesList.push(messageToAdd)\n    setMessageList([...messagesList])\n  }\n\n  const updateUsersList = (newUsersList) => {\n    setUsersList(newUsersList)\n  }\n\n  const handleSearchUserChange = ({target:{value: username}}) => {\n    setSearchUserValue(username)\n  }\n\n  useEffect(()=>{\n    API.suscribeToMessages(updateMessagesList)\n    API.suscribeToPrivateMessages(updatePrivateChat)\n  }, [])\n\n  useEffect(()=>{\n    API.suscribeToUsers(updateUsersList)\n  }, [usersList])\n\n  useEffect(()=>{\n  }, [privateChats])\n\n  const sendMessage =  messageValue =>{\n    if(messageValue && /\\S/.test(messageValue)){\n      API.sendMessage(messageValue)\n    }\n  }\n\n  const toggleUserChatIsOpen = (listOfUsers, userId) =>{\n    return listOfUsers.map(user =>{\n      if(user.id === userId) {\n        return {\n          ...user,\n          isOpen: ! user.isOpen\n        }\n      }\n      return user\n    })\n  }\n\n  const handleUserClick = (id) =>{\n      setUsersList(toggleUserChatIsOpen(usersList, id))\n  }\n  const showPrivateChats = () =>{\n   return  usersList.filter(({isOpen})=> isOpen).map(({id, username}) => <PrivateChat \n                                                                            id={id} \n                                                                            username={username}\n                                                                            handleClose={handleUserClick}\n                                                                            privateMessages={privateChats[id] && privateChats[id].messages}\n                                                                            key={id}/> ) \n  }\n  \n  return (\n      <MainContainer>\n        <SimpleAppBar />\n        <AppContainer>\n          {\n          showPrivateChats()\n          }\n        { \n          !hiddeLogin &&  <Login setHideLogin={setHideLogin}/>\n        }\n        <LeftBox>\n          <MessagesBox messagesList={messagesList}/>\n          <MessageForm  sendMessage={sendMessage} />\n        </LeftBox>\n        <RightBox>\n          <SimpleCard>\n            <SearchUser handleChange={handleSearchUserChange} inputValue={searchUserValue}/>\n            <SimpleUsersList users={usersList} filter={searchUserValue} handleUserClick={handleUserClick}/>\n          </SimpleCard>\n        </RightBox>\n        </AppContainer>\n    </MainContainer>\n    )\n}\n\nexport default WebChat","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n// Font Awesome stuff \nimport { library } from '@fortawesome/fontawesome-svg-core'\nimport { faTimes, faPaperPlane, faWindowMinimize, faSearch, faUserAstronaut, faFrownOpen, faSquare } from '@fortawesome/free-solid-svg-icons'\n\nlibrary.add(faTimes, faPaperPlane,faWindowMinimize, faSearch, faUserAstronaut, faFrownOpen, faSquare)\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}